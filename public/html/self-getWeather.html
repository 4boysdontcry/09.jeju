<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title></title>
        <link rel="stylesheet" href="../css/all.min.css">
        <link rel="stylesheet" href="../css/bootstrap-icons.css">
        <link rel="stylesheet" href="../css/bootstrap.min.css">
        <link rel="stylesheet" href="../css/base.css">
        <link rel="stylesheet" href="../css/.css">
        <script src="../js/jquery-3.6.0.min.js"></script>
        <script src="../js/bootstrap.min.js"></script>
        <script src="../js/moment.min.js"></script>
    <style>
        ul {width: 500px; border: 5px solid red;}
        ul > li {width: 500px; border: 1px solid green;}
    </style>
</head>
<body>
    <ul class="weather">
        <li class="date"></li>
        <li class="temp"></li>
        <li class="sunrise"></li>
    </ul>


    <script>
        var weather = $('.weather')
        // var url ='https://api.openweathermap.org/data/2.5/weather?lat=37.566535&lon=126.97796919&units=metric&appid=02efdd64bdc14b279bc91d9247db4722'
        var path = 'https://api.openweathermap.org/data/2.5/weather'
        var data = {
            lat: 37.566535,
            lon: 126.97796919,
            units: 'metric',
            appid: '02efdd64bdc14b279bc91d9247db4722'
        }
    
        $.get(path, data, onGetData)
        function onGetData(r) {
            console.log(r)
            console.log(r.dt * 1000)
            console.log(r.main.temp)
            console.log(moment(r.sys.sunrise * 1000).format('HH:MM A'))

            weather.find('.date').text('오늘은 '+moment(r.dt * 1000).format('YYYY. MM. DD')+' 입니다.')
            weather.find('.temp').text('현재 기온은 '+r.main.temp + '℃ 입니다.')
            weather.find('.sunrise').text('일출시간은 '+moment(r.sys.sunrise * 1000).format('HH:MM A')+' 입니다.')
        }
    </script>
</body>
</html>

